{"ast":null,"code":"import _objectSpread from\"/Users/brodycritchlow/Projects/footballdynasty-new/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{Box,TextField,Typography,Alert,Container,Avatar,InputAdornment,IconButton,Divider}from'@mui/material';import{SportsFootball,Person,Lock,Email,Visibility,VisibilityOff,ArrowBack}from'@mui/icons-material';import{motion}from'framer-motion';import{useAuth}from'../../hooks/useAuth';import GradientButton from'../../components/ui/GradientButton';import GlassCard from'../../components/ui/GlassCard';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=_ref=>{let{onBackToLogin}=_ref;const[formData,setFormData]=useState({username:'',email:'',password:'',confirmPassword:''});const[showPassword,setShowPassword]=useState(false);const[showConfirmPassword,setShowConfirmPassword]=useState(false);const[error,setError]=useState('');const[isSubmitting,setIsSubmitting]=useState(false);const{register}=useAuth();const handleInputChange=field=>e=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:e.target.value}));};const validateForm=()=>{if(!formData.username||!formData.password||!formData.confirmPassword){setError('Username, password, and confirm password are required');return false;}if(formData.username.length<3){setError('Username must be at least 3 characters long');return false;}if(formData.email&&!/\\S+@\\S+\\.\\S+/.test(formData.email)){setError('Please enter a valid email address');return false;}if(formData.password.length<6){setError('Password must be at least 6 characters long');return false;}if(formData.password!==formData.confirmPassword){setError('Passwords do not match');return false;}return true;};const handleSubmit=async e=>{e.preventDefault();setError('');if(!validateForm()){return;}setIsSubmitting(true);try{await register(formData.username,formData.email,formData.password);}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Registration failed. Please try again.');}finally{setIsSubmitting(false);}};const containerVariants={initial:{opacity:0,x:50},animate:{opacity:1,x:0,transition:{duration:0.6,ease:\"easeOut\"}}};const formVariants={initial:{opacity:0},animate:{opacity:1,transition:{delay:0.3,duration:0.5}}};return/*#__PURE__*/_jsx(Container,{maxWidth:\"sm\",children:/*#__PURE__*/_jsx(motion.div,{variants:containerVariants,initial:\"initial\",animate:\"animate\",children:/*#__PURE__*/_jsx(GlassCard,{hover:false,children:/*#__PURE__*/_jsxs(Box,{sx:{p:4},children:[/*#__PURE__*/_jsx(Box,{sx:{mb:2},children:/*#__PURE__*/_jsx(motion.div,{whileHover:{scale:1.05},whileTap:{scale:0.95},children:/*#__PURE__*/_jsx(IconButton,{onClick:onBackToLogin,sx:{background:'rgba(255,255,255,0.1)','&:hover':{background:'rgba(255,255,255,0.2)'}},children:/*#__PURE__*/_jsx(ArrowBack,{})})})}),/*#__PURE__*/_jsx(Box,{sx:{textAlign:'center',mb:4},children:/*#__PURE__*/_jsxs(motion.div,{initial:{scale:0.5,opacity:0},animate:{scale:1,opacity:1},transition:{delay:0.1,duration:0.5},children:[/*#__PURE__*/_jsx(Avatar,{sx:{width:80,height:80,mx:'auto',mb:2,background:'linear-gradient(135deg, #1e88e5 0%, #42a5f5 100%)'},children:/*#__PURE__*/_jsx(SportsFootball,{fontSize:\"large\"})}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",sx:{fontWeight:700,mb:1,background:'linear-gradient(135deg, #42a5f5, #66bb6a)',backgroundClip:'text',WebkitBackgroundClip:'text',WebkitTextFillColor:'transparent'},children:\"Join Football Dynasty\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"text.secondary\",children:\"Create your account to start managing teams\"})]})}),/*#__PURE__*/_jsx(motion.div,{variants:formVariants,initial:\"initial\",animate:\"animate\",children:/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleSubmit,sx:{mt:3},children:[error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:3},children:error}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Username\",value:formData.username,onChange:handleInputChange('username'),margin:\"normal\",required:true,autoFocus:true,InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(Person,{color:\"action\"})})}}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Password\",type:showPassword?'text':'password',value:formData.password,onChange:handleInputChange('password'),margin:\"normal\",required:true,InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(Lock,{color:\"action\"})}),endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(IconButton,{onClick:()=>setShowPassword(!showPassword),edge:\"end\",children:showPassword?/*#__PURE__*/_jsx(VisibilityOff,{}):/*#__PURE__*/_jsx(Visibility,{})})})}}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Confirm Password\",type:showConfirmPassword?'text':'password',value:formData.confirmPassword,onChange:handleInputChange('confirmPassword'),margin:\"normal\",required:true,InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(Lock,{color:\"action\"})}),endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(IconButton,{onClick:()=>setShowConfirmPassword(!showConfirmPassword),edge:\"end\",children:showConfirmPassword?/*#__PURE__*/_jsx(VisibilityOff,{}):/*#__PURE__*/_jsx(Visibility,{})})})}}),/*#__PURE__*/_jsx(Box,{sx:{mt:3,mb:2},children:/*#__PURE__*/_jsx(Divider,{sx:{borderColor:'rgba(255,255,255,0.1)','&::before, &::after':{borderColor:'rgba(255,255,255,0.1)'}},children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",sx:{fontSize:'0.75rem',opacity:0.7,px:2},children:\"Optional\"})})}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Email Address\",type:\"email\",value:formData.email,onChange:handleInputChange('email'),margin:\"normal\",InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(Email,{color:\"action\"})})},helperText:\"Recommended for account recovery and notifications\",sx:{'& .MuiOutlinedInput-root':{'& fieldset':{borderColor:'rgba(255,255,255,0.15)'},'&:hover fieldset':{borderColor:'rgba(255,255,255,0.25)'},'&.Mui-focused fieldset':{borderColor:'rgba(66, 165, 245, 0.5)'}},'& .MuiInputLabel-root':{color:'rgba(255,255,255,0.7)'},'& .MuiFormHelperText-root':{color:'rgba(255,255,255,0.5)',fontSize:'0.75rem'}}}),/*#__PURE__*/_jsx(Box,{sx:{mt:4},children:/*#__PURE__*/_jsx(GradientButton,{type:\"submit\",fullWidth:true,size:\"large\",disabled:isSubmitting,children:isSubmitting?'Creating Account...':'Create Account'})})]})})]})})})});};export default Register;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}