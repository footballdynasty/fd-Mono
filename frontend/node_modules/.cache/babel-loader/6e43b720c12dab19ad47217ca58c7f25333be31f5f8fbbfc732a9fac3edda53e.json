{"ast":null,"code":"import React,{useState}from'react';import{Box,TextField,Typography,Alert,Container,Avatar,InputAdornment,IconButton,Button,Divider}from'@mui/material';import{SportsFootball,Person,Lock,Visibility,VisibilityOff}from'@mui/icons-material';import{motion}from'framer-motion';import{useAuth}from'../../hooks/useAuth';import{useToast}from'../../contexts/ToastContext';import GradientButton from'../../components/ui/GradientButton';import GlassCard from'../../components/ui/GlassCard';import Register from'./Register';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[showPassword,setShowPassword]=useState(false);const[error,setError]=useState('');const[isSubmitting,setIsSubmitting]=useState(false);const[showRegister,setShowRegister]=useState(false);const{login}=useAuth();const{showSuccess,showError}=useToast();const handleSubmit=async e=>{e.preventDefault();setError('');setIsSubmitting(true);try{await login(username,password);showSuccess('Successfully signed in! Welcome back.');}catch(err){var _err$response,_err$response$data;const errorMessage=((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Login failed. Please check your credentials.';setError(errorMessage);showError(errorMessage);}finally{setIsSubmitting(false);}};const containerVariants={initial:{opacity:0,y:50},animate:{opacity:1,y:0,transition:{duration:0.6,ease:\"easeOut\"}}};const formVariants={initial:{opacity:0},animate:{opacity:1,transition:{delay:0.3,duration:0.5}}};if(showRegister){return/*#__PURE__*/_jsx(Box,{sx:{minHeight:'100vh',background:'linear-gradient(135deg, #0a0e27 0%, #1a1d35 50%, #242744 100%)',display:'flex',alignItems:'center',justifyContent:'center',p:2},children:/*#__PURE__*/_jsx(Register,{onBackToLogin:()=>setShowRegister(false)})});}return/*#__PURE__*/_jsx(Box,{sx:{minHeight:'100vh',background:'linear-gradient(135deg, #0a0e27 0%, #1a1d35 50%, #242744 100%)',display:'flex',alignItems:'center',justifyContent:'center',p:2},children:/*#__PURE__*/_jsx(Container,{maxWidth:\"sm\",children:/*#__PURE__*/_jsx(motion.div,{variants:containerVariants,initial:\"initial\",animate:\"animate\",children:/*#__PURE__*/_jsx(GlassCard,{hover:false,children:/*#__PURE__*/_jsxs(Box,{sx:{p:4},children:[/*#__PURE__*/_jsx(Box,{sx:{textAlign:'center',mb:4},children:/*#__PURE__*/_jsxs(motion.div,{initial:{scale:0.5,opacity:0},animate:{scale:1,opacity:1},transition:{delay:0.1,duration:0.5},children:[/*#__PURE__*/_jsx(Avatar,{sx:{width:80,height:80,mx:'auto',mb:2,background:'linear-gradient(135deg, #1e88e5 0%, #42a5f5 100%)'},children:/*#__PURE__*/_jsx(SportsFootball,{fontSize:\"large\"})}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",sx:{fontWeight:700,mb:1,background:'linear-gradient(135deg, #42a5f5, #66bb6a)',backgroundClip:'text',WebkitBackgroundClip:'text',WebkitTextFillColor:'transparent'},children:\"Football Dynasty\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"text.secondary\",children:\"Sign in to manage your team\"})]})}),/*#__PURE__*/_jsx(motion.div,{variants:formVariants,initial:\"initial\",animate:\"animate\",children:/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleSubmit,sx:{mt:3},children:[error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:3},children:error}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Username\",value:username,onChange:e=>setUsername(e.target.value),margin:\"normal\",required:true,autoFocus:true,InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(Person,{color:\"action\"})})}}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Password\",type:showPassword?'text':'password',value:password,onChange:e=>setPassword(e.target.value),margin:\"normal\",required:true,InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(Lock,{color:\"action\"})}),endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(IconButton,{onClick:()=>setShowPassword(!showPassword),edge:\"end\",children:showPassword?/*#__PURE__*/_jsx(VisibilityOff,{}):/*#__PURE__*/_jsx(Visibility,{})})})}}),/*#__PURE__*/_jsx(Box,{sx:{mt:4},children:/*#__PURE__*/_jsx(GradientButton,{type:\"submit\",fullWidth:true,size:\"large\",disabled:isSubmitting||!username||!password,children:isSubmitting?'Signing In...':'Sign In'})}),/*#__PURE__*/_jsx(Box,{sx:{mt:3,mb:3},children:/*#__PURE__*/_jsx(Divider,{sx:{borderColor:'rgba(255,255,255,0.2)','&::before, &::after':{borderColor:'rgba(255,255,255,0.2)'}},children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"or\"})})}),/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(Button,{fullWidth:true,size:\"large\",onClick:()=>setShowRegister(true),sx:{borderRadius:'12px',textTransform:'none',fontWeight:600,padding:'12px 24px',border:'2px solid rgba(255,255,255,0.2)',color:'text.primary',background:'rgba(255,255,255,0.05)','&:hover':{background:'rgba(255,255,255,0.1)',border:'2px solid rgba(255,255,255,0.3)'}},children:\"Create New Account\"})})]})})]})})})})});};export default Login;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}