{"ast":null,"code":"import _objectSpread from\"/Users/brodycritchlow/Projects/footballdynasty-new/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useCallback,useEffect}from'react';import{Box,FormControl,InputLabel,Select,MenuItem,TextField,Autocomplete,Button,Grid,Typography,Chip,useTheme,alpha,InputAdornment,IconButton}from'@mui/material';import{Search as SearchIcon,Clear as ClearIcon,FilterList as FilterIcon,Refresh as RefreshIcon}from'@mui/icons-material';import{motion}from'framer-motion';import{useSearchParams}from'react-router-dom';import{useDebounce}from'../../hooks/useDebounce';import GlassCard from'../ui/GlassCard';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";// Default conferences - can be overridden by props\nconst DEFAULT_CONFERENCES=['ACC','Big 10','Big 12','Pac-12','SEC','AAC','C-USA','MAC','Mountain West','Sun Belt','FBS Independents'];// Generate available years (current year back to 2000)\nconst generateAvailableYears=()=>{const currentYear=new Date().getFullYear();const years=[];for(let year=currentYear;year>=2000;year--){years.push(year);}return years;};const StandingsFilters=_ref=>{let{filters,onFiltersChange,loading=false,availableYears=generateAvailableYears(),availableConferences=DEFAULT_CONFERENCES}=_ref;const theme=useTheme();// const isMobile = useMediaQuery(theme.breakpoints.down('md')); // Future use for mobile-specific features\nconst[searchParams,setSearchParams]=useSearchParams();// Local state for search input to handle debouncing\nconst[localSearch,setLocalSearch]=useState(filters.search);const debouncedSearch=useDebounce(localSearch,300);// Update filters when debounced search changes\nuseEffect(()=>{if(debouncedSearch!==filters.search){onFiltersChange(_objectSpread(_objectSpread({},filters),{},{search:debouncedSearch}));}},[debouncedSearch,filters,onFiltersChange]);// Sync filters with URL parameters\nuseEffect(()=>{const params=new URLSearchParams();if(filters.year){params.set('year',filters.year.toString());}if(filters.conference){params.set('conference',filters.conference);}if(filters.search){params.set('search',filters.search);}// Only update URL if it's different\nconst currentParams=searchParams.toString();const newParams=params.toString();if(currentParams!==newParams){setSearchParams(params,{replace:true});}},[filters,searchParams,setSearchParams]);// Initialize filters from URL on mount\nuseEffect(()=>{const yearParam=searchParams.get('year');const conferenceParam=searchParams.get('conference');const searchParam=searchParams.get('search');const initialFilters={year:yearParam?parseInt(yearParam,10):new Date().getFullYear(),conference:conferenceParam||null,search:searchParam||''};// Only update if different from current filters\nif(initialFilters.year!==filters.year||initialFilters.conference!==filters.conference||initialFilters.search!==filters.search){onFiltersChange(initialFilters);setLocalSearch(initialFilters.search);}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);// Only run on mount - dependencies intentionally omitted\nconst handleYearChange=useCallback(year=>{onFiltersChange(_objectSpread(_objectSpread({},filters),{},{year}));},[filters,onFiltersChange]);const handleConferenceChange=useCallback(conference=>{onFiltersChange(_objectSpread(_objectSpread({},filters),{},{conference}));},[filters,onFiltersChange]);const handleSearchChange=useCallback(search=>{setLocalSearch(search);},[]);const handleClearFilters=useCallback(()=>{const clearedFilters={year:new Date().getFullYear(),conference:null,search:''};onFiltersChange(clearedFilters);setLocalSearch('');},[onFiltersChange]);const handleRefresh=useCallback(()=>{// Trigger a refresh by calling onFiltersChange with current filters\nonFiltersChange(_objectSpread({},filters));},[filters,onFiltersChange]);// Count active filters\nconst activeFiltersCount=[filters.conference,filters.search].filter(Boolean).length;const containerVariants={initial:{opacity:0,y:-20},animate:{opacity:1,y:0,transition:{duration:0.4,staggerChildren:0.1}}};const itemVariants={initial:{opacity:0,x:-20},animate:{opacity:1,x:0}};return/*#__PURE__*/_jsx(motion.div,{variants:containerVariants,initial:\"initial\",animate:\"animate\",children:/*#__PURE__*/_jsx(GlassCard,{sx:{mb:3},children:/*#__PURE__*/_jsxs(Box,{sx:{p:3},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',justifyContent:'space-between',mb:3},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:2},children:[/*#__PURE__*/_jsx(FilterIcon,{sx:{color:'primary.main'}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",fontWeight:600,children:\"Filter Standings\"}),activeFiltersCount>0&&/*#__PURE__*/_jsx(Chip,{label:\"\".concat(activeFiltersCount,\" active\"),size:\"small\",color:\"primary\",sx:{background:theme.palette.gradient.primary,color:'#ffffff',fontWeight:600}})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:1},children:[/*#__PURE__*/_jsx(IconButton,{onClick:handleRefresh,disabled:loading,sx:{color:'primary.main','&:hover':{backgroundColor:alpha(theme.palette.primary.main,0.1)}},children:/*#__PURE__*/_jsx(RefreshIcon,{})}),activeFiltersCount>0&&/*#__PURE__*/_jsx(Button,{variant:\"outlined\",size:\"small\",onClick:handleClearFilters,startIcon:/*#__PURE__*/_jsx(ClearIcon,{}),sx:{borderColor:alpha('#ffffff',0.3),color:'text.secondary','&:hover':{borderColor:alpha('#ffffff',0.5),backgroundColor:alpha('#ffffff',0.05)}},children:\"Clear All\"})]})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(motion.div,{variants:itemVariants,children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,children:[/*#__PURE__*/_jsx(InputLabel,{sx:{color:'text.secondary'},children:\"Year\"}),/*#__PURE__*/_jsx(Select,{value:filters.year||'',label:\"Year\",onChange:e=>handleYearChange(e.target.value),disabled:loading,sx:{'& .MuiSelect-select':{color:'text.primary'},'& .MuiOutlinedInput-notchedOutline':{borderColor:alpha('#ffffff',0.2)},'&:hover .MuiOutlinedInput-notchedOutline':{borderColor:alpha('#ffffff',0.3)},'&.Mui-focused .MuiOutlinedInput-notchedOutline':{borderColor:'primary.main'}},children:availableYears.map(year=>/*#__PURE__*/_jsx(MenuItem,{value:year,children:year},year))})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,children:/*#__PURE__*/_jsx(motion.div,{variants:itemVariants,children:/*#__PURE__*/_jsx(Autocomplete,{value:filters.conference,onChange:(_,newValue)=>handleConferenceChange(newValue),options:['All Conferences',...availableConferences],getOptionLabel:option=>option,disabled:loading,renderInput:params=>/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},params),{},{label:\"Conference\",placeholder:\"Select conference...\",sx:{'& .MuiInputLabel-root':{color:'text.secondary'},'& .MuiOutlinedInput-root':{'& fieldset':{borderColor:alpha('#ffffff',0.2)},'&:hover fieldset':{borderColor:alpha('#ffffff',0.3)},'&.Mui-focused fieldset':{borderColor:'primary.main'}}}})),renderOption:(props,option)=>/*#__PURE__*/_jsx(Box,_objectSpread(_objectSpread({component:\"li\"},props),{},{sx:{backgroundColor:'background.paper','&:hover':{backgroundColor:alpha(theme.palette.primary.main,0.1)},'&[aria-selected=\"true\"]':{backgroundColor:alpha(theme.palette.primary.main,0.2)}},children:option==='All Conferences'?/*#__PURE__*/_jsx(Typography,{sx:{fontStyle:'italic',color:'text.secondary'},children:option}):option}))})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:12,md:5,children:/*#__PURE__*/_jsx(motion.div,{variants:itemVariants,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Search Teams\",placeholder:\"Search by team name...\",value:localSearch,onChange:e=>handleSearchChange(e.target.value),disabled:loading,InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(SearchIcon,{sx:{color:'text.secondary'}})}),endAdornment:localSearch&&/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:()=>handleSearchChange(''),sx:{color:'text.secondary'},children:/*#__PURE__*/_jsx(ClearIcon,{})})})},sx:{'& .MuiInputLabel-root':{color:'text.secondary'},'& .MuiOutlinedInput-root':{'& fieldset':{borderColor:alpha('#ffffff',0.2)},'&:hover fieldset':{borderColor:alpha('#ffffff',0.3)},'&.Mui-focused fieldset':{borderColor:'primary.main'}}}})})})]}),(filters.conference||filters.search)&&/*#__PURE__*/_jsxs(Box,{sx:{mt:2,pt:2,borderTop:\"1px solid \".concat(alpha('#ffffff',0.1))},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",sx:{mb:1},children:\"Active Filters:\"}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexWrap:'wrap',gap:1},children:[filters.conference&&filters.conference!=='All Conferences'&&/*#__PURE__*/_jsx(Chip,{label:\"Conference: \".concat(filters.conference),onDelete:()=>handleConferenceChange(null),size:\"small\",sx:{background:alpha(theme.palette.secondary.main,0.2),border:\"1px solid \".concat(alpha(theme.palette.secondary.main,0.3)),color:'text.primary'}}),filters.search&&/*#__PURE__*/_jsx(Chip,{label:\"Search: \\\"\".concat(filters.search,\"\\\"\"),onDelete:()=>handleSearchChange(''),size:\"small\",sx:{background:alpha(theme.palette.info.main,0.2),border:\"1px solid \".concat(alpha(theme.palette.info.main,0.3)),color:'text.primary'}})]})]})]})})});};export default StandingsFilters;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}