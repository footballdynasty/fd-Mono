{"ast":null,"code":"import React,{useState,useEffect,useMemo}from'react';import{Container,Typography,Box,Breadcrumbs,Link,Alert,CircularProgress,useTheme,useMediaQuery}from'@mui/material';import{Home as HomeIcon,LeaderboardRounded as StandingsIcon}from'@mui/icons-material';import{motion}from'framer-motion';import{Link as RouterLink,useSearchParams}from'react-router-dom';// import { Helmet } from 'react-helmet-async'; // TODO: Add react-helmet-async dependency\nimport{useStandings}from'../hooks/useStandings';import StandingsFilters from'../components/standings/StandingsFilters';import StandingsTable from'../components/standings/StandingsTable';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const StandingsPage=()=>{const theme=useTheme();const isMobile=useMediaQuery(theme.breakpoints.down('md'));const[searchParams]=useSearchParams();// Filter state\nconst[filters,setFilters]=useState({year:new Date().getFullYear(),conference:null,search:''});// Initialize filters from URL parameters\nuseEffect(()=>{const yearParam=searchParams.get('year');const conferenceParam=searchParams.get('conference');const searchParam=searchParams.get('search');setFilters({year:yearParam?parseInt(yearParam,10):new Date().getFullYear(),conference:conferenceParam==='All Conferences'?null:conferenceParam,search:searchParam||''});},[searchParams]);// Fetch standings data\nconst{data:standingsData,isLoading,error,refetch}=useStandings({year:filters.year||undefined,conference:filters.conference||undefined,page:0,size:100// Get a large page to show all standings\n});// Filter standings by search term\nconst filteredStandings=useMemo(()=>{if(!(standingsData!==null&&standingsData!==void 0&&standingsData.content))return[];let standings=standingsData.content;// Apply search filter\nif(filters.search){const searchTerm=filters.search.toLowerCase();standings=standings.filter(standing=>{var _standing$team$confer;return standing.team.name.toLowerCase().includes(searchTerm)||((_standing$team$confer=standing.team.conference)===null||_standing$team$confer===void 0?void 0:_standing$team$confer.toLowerCase().includes(searchTerm));});}return standings;},[standingsData,filters.search]);const handleFiltersChange=newFilters=>{setFilters(newFilters);};// Page animations\nconst pageVariants={initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:0.6,staggerChildren:0.1}}};const itemVariants={initial:{opacity:0,y:20},animate:{opacity:1,y:0}};// Generate page title\nconst pageTitle=useMemo(()=>{let title='Team Standings';if(filters.year&&filters.year!==new Date().getFullYear()){title+=\" - \".concat(filters.year);}if(filters.conference&&filters.conference!=='All Conferences'){title+=\" - \".concat(filters.conference);}return title;},[filters.year,filters.conference]);// Generate meta description\nconst metaDescription=useMemo(()=>{let description=\"View college football team standings\";if(filters.year){description+=\" for \".concat(filters.year);}if(filters.conference&&filters.conference!=='All Conferences'){description+=\" in the \".concat(filters.conference,\" conference\");}description+='. Compare team records, win percentages, and conference standings.';return description;},[filters.year,filters.conference]);// Update document title\nuseEffect(()=>{document.title=\"\".concat(pageTitle,\" | Football Dynasty\");},[pageTitle]);// Error boundary fallback\nif(error){return/*#__PURE__*/_jsx(Container,{maxWidth:\"xl\",sx:{py:4},children:/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{background:'linear-gradient(135deg, rgba(244,67,54,0.1) 0%, rgba(244,67,54,0.05) 100%)',border:\"1px solid \".concat(theme.palette.error.main,\"40\"),backdropFilter:'blur(20px)'},children:\"Failed to load standings data. Please try again later.\"})});}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Container,{maxWidth:\"xl\",component:motion.div,variants:pageVariants,initial:\"initial\",animate:\"animate\",sx:{py:{xs:2,md:4}},children:[/*#__PURE__*/_jsx(motion.div,{variants:itemVariants,children:/*#__PURE__*/_jsxs(Breadcrumbs,{\"aria-label\":\"breadcrumb\",sx:{mb:3,'& .MuiBreadcrumbs-ol':{flexWrap:'wrap'},'& .MuiBreadcrumbs-li':{display:'flex',alignItems:'center'}},children:[/*#__PURE__*/_jsxs(Link,{component:RouterLink,to:\"/\",sx:{display:'flex',alignItems:'center',color:'text.secondary',textDecoration:'none','&:hover':{color:'primary.main',textDecoration:'underline'}},children:[/*#__PURE__*/_jsx(HomeIcon,{sx:{mr:0.5,fontSize:'1rem'}}),\"Dashboard\"]}),/*#__PURE__*/_jsxs(Typography,{color:\"text.primary\",sx:{display:'flex',alignItems:'center',fontWeight:600},children:[/*#__PURE__*/_jsx(StandingsIcon,{sx:{mr:0.5,fontSize:'1rem'}}),\"Standings\"]})]})}),/*#__PURE__*/_jsx(motion.div,{variants:itemVariants,children:/*#__PURE__*/_jsxs(Box,{sx:{mb:4},children:[/*#__PURE__*/_jsx(Typography,{variant:isMobile?'h4':'h3',component:\"h1\",gutterBottom:true,sx:{fontWeight:700,background:'linear-gradient(135deg, #1e88e5 0%, #42a5f5 100%)',backgroundClip:'text',WebkitBackgroundClip:'text',WebkitTextFillColor:'transparent',mb:1},children:\"Team Standings\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"text.secondary\",sx:{maxWidth:'600px',lineHeight:1.6},children:\"Track team performance across conferences and seasons. Compare win records, conference standings, and rankings to analyze team success.\"}),filteredStandings.length>0&&/*#__PURE__*/_jsx(Box,{sx:{mt:2,display:'flex',gap:2,flexWrap:'wrap',alignItems:'center'},children:/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",children:[\"Showing \",filteredStandings.length,\" teams\",filters.year&&\" for \".concat(filters.year),filters.conference&&filters.conference!=='All Conferences'&&\" in \".concat(filters.conference)]})})]})}),/*#__PURE__*/_jsx(motion.div,{variants:itemVariants,children:/*#__PURE__*/_jsx(StandingsFilters,{filters:filters,onFiltersChange:handleFiltersChange,loading:isLoading})}),isLoading&&/*#__PURE__*/_jsx(motion.div,{variants:itemVariants,children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'center',alignItems:'center',minHeight:400,flexDirection:'column',gap:2},children:[/*#__PURE__*/_jsx(CircularProgress,{size:48,sx:{color:'primary.main','& .MuiCircularProgress-circle':{strokeLinecap:'round'}}}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"text.secondary\",children:\"Loading standings data...\"})]})}),!isLoading&&/*#__PURE__*/_jsx(motion.div,{variants:itemVariants,children:/*#__PURE__*/_jsx(StandingsTable,{standings:filteredStandings,loading:isLoading,error:error?'Failed to load standings data':null,showConferenceStats:!filters.conference||filters.conference==='All Conferences'})}),!isLoading&&filteredStandings.length===0&&!error&&/*#__PURE__*/_jsx(motion.div,{variants:itemVariants,children:/*#__PURE__*/_jsx(Alert,{severity:\"info\",sx:{mt:3,background:'linear-gradient(135deg, rgba(33,150,243,0.1) 0%, rgba(33,150,243,0.05) 100%)',border:\"1px solid \".concat(theme.palette.info.main,\"40\"),backdropFilter:'blur(20px)'},children:\"No standings data found for the selected filters. Try adjusting your search criteria or check back later.\"})})]})});};export default StandingsPage;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}